{{- if eq .chezmoi.os "darwin" -}}
#!/bin/bash
# This script runs when Brewfile content changes
# Brewfile hash: {{ include "Brewfile" | sha256sum }}

set -eufo pipefail

echo "üì¶ Updating Homebrew packages..."

if command -v brew &>/dev/null; then
    brew bundle --file="{{ .chezmoi.sourceDir }}/Brewfile"
    echo "‚úÖ Homebrew packages updated!"
else
    echo "‚ö†Ô∏è Homebrew not installed, skipping..."
fi
{{- end }}
