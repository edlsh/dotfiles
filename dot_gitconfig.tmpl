# Git Configuration - Managed by chezmoi
[user]
	name = {{ .name }}
	email = {{ .email }}

[core]
{{- if eq .chezmoi.os "darwin" }}
	excludesfile = {{ .chezmoi.homeDir }}/.gitignore_global
{{- end }}

[credential "https://github.com"]
	helper = 
{{- if eq .chezmoi.os "darwin" }}
	helper = !/opt/homebrew/bin/gh auth git-credential
{{- else }}
	helper = !/usr/bin/gh auth git-credential
{{- end }}

[credential "https://gist.github.com"]
	helper = 
{{- if eq .chezmoi.os "darwin" }}
	helper = !/opt/homebrew/bin/gh auth git-credential
{{- else }}
	helper = !/usr/bin/gh auth git-credential
{{- end }}

{{- if eq .chezmoi.os "darwin" }}

[difftool "sourcetree"]
	cmd = opendiff \"$LOCAL\" \"$REMOTE\"
	path = 

[mergetool "sourcetree"]
	cmd = /Applications/Sourcetree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
	trustExitCode = true

[commit]
	template = {{ .chezmoi.homeDir }}/.stCommitMsg
{{- end }}
